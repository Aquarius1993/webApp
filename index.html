<!DOCTYPE html>
<html>
<head lang="en">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0"/>
    <title>首页</title>
    <link rel="stylesheet" href="css/base.css"/>
    <link rel="stylesheet" href="css/index.css"/>
</head>
<body>
    <!--大盒子-->
    <div class="jd_layout">
        <!--头部搜索-->
        <header class="jd_header">
            <div class="jd_header_box">
                <a href="#" class="iconn_logo">天天买</a>
                <form action="#">
                    <span class="icon_search" ></span>
                    <!--定义能调出搜索按钮的方式-->
                    <input type="search" placeholder="提示"/>
                </form>
                <a href="#" class="login">登录</a>
            </div>
        </header>
        <!-- 轮播图-->
        <div class="jd_banner">
            <ul class="clearfix">
                <li><img src="images/l8.jpg" alt=""/></li>
                <li><img src="images/l1.jpg" alt=""/></li>
                <li><img src="images/l2.jpg" alt=""/></li>
                <li><img src="images/l3.jpg" alt=""/></li>
                <li><img src="images/l4.jpg" alt=""/></li>
                <li><img src="images/l5.jpg" alt=""/></li>
                <li><img src="images/l6.jpg" alt=""/></li>
                <li><img src="images/l7.jpg" alt=""/></li>
                <li><img src="images/l8.jpg" alt=""/></li>
                <li><img src="images/l1.jpg" alt=""/></li>
            </ul>
            <ul>
                <li class="now"></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
                <li></li>
            </ul>
        </div>
        <!--导航栏-->
        <nav class="jd_nav">
            <ul>
                <li>
                    <a href="category.html">
                        <img src="images/nav0.png" alt=""/>
                        <p>分类查询</p>
                    </a>
                </li>
                <li>
                    <a href="">
                        <img src="images/nav1.png" alt=""/>
                        <p>物流查询</p>
                    </a>
                </li>
                <li>
                    <a href="cart.html">
                        <img src="images/nav2.png" alt=""/>
                        <p>购物车</p>
                    </a>
                </li>
                <li>
                    <a href="">
                        <img src="images/nav3.png" alt=""/>
                        <p>我的京东</p>
                    </a>
                </li>
                <li>
                    <a href="">
                        <img src="images/nav4.png" alt=""/>
                        <p>充值</p>
                    </a>
                </li>
                <li>
                    <a href="">
                        <img src="images/nav5.png" alt=""/>
                        <p>领券中心</p>
                    </a>
                </li>
                <li>
                    <a href="">
                        <img src="images/nav6.png" alt=""/>
                        <p>京东超市</p>
                    </a>
                </li>
                <li>
                    <a href="">
                        <img src="images/nav7.png" alt=""/>
                        <p>我的关注</p>
                    </a>
                </li>
            </ul>
        </nav>
        <main class="jd_product">
            <section class="jd_product_box jd_secondKill">
                <div class="product_top no_bor">
                    <div class="jd_secondKill_left">
                        <span class="sk_icon"></span>
                        <h4 class="sk_name">掌上秒杀</h4>
                        <div class="sk_time">
                            <span class="num">0</span>
                            <span class="num">0</span>
                            <span class="str">:</span>
                            <span class="num">0</span>
                            <span class="num">0</span>
                            <span class="str">:</span>
                            <span class="num">0</span>
                            <span class="num">0</span>
                        </div>
                    </div>
                    <div class="jd_secondKill_right">
                        <a href="">更多></a>
                    </div>
                </div>
                <!--三个商品-->
                <div class="product_bot">
                    <ul class="clearfix">
                        <li>
                            <a href="">
                                <div class="img_box"><img src="images/detail02.jpg" alt=""/></div>
                                <p class="now_price">&yen;20.00</p>
                                <p class="old_price">&yen;200.00</p>
                            </a>
                        </li>
                        <li>
                            <a href="">
                                <div class="img_box"><img src="images/detail02.jpg" alt=""/></div>
                                <p class="now_price">&yen;20.00</p>
                                <p class="old_price">&yen;200.00</p>
                            </a>
                        </li>
                        <li>
                            <a href="">
                                <div class="img_box"><img src="images/detail02.jpg" alt=""/></div>
                                <p class="now_price">&yen;20.00</p>
                                <p class="old_price">&yen;200.00</p>
                            </a>
                        </li>
                    </ul>
                </div>
            </section>
            <!---->
            <section class="jd_product_box jd_pd">
                <div class="product_top">
                    <h3>超值购</h3>
                </div>
                <div class="product_bot clearfix">
                    <a href="" class="p_left b_right"><img src="images/cp1.jpg" alt=""/></a>
                    <a href="" class="p_right b_bottom"><img src="images/cp2.jpg" alt=""/></a>
                    <a href="" class="p_right"><img src="images/cp3.jpg" alt=""/></a>
                </div>
            </section>
            <section class="jd_product_box jd_pd">
                <div class="product_top">
                    <h3>热门活动</h3>
                </div>
                <div class="product_bot clearfix">
                    <a href="" class="p_right b_left"><img src="images/cp4.jpg" alt=""/></a>
                    <a href="" class="p_left b_bottom"><img src="images/cp5.jpg" alt=""/></a>
                    <a href="" class="p_left"><img src="images/cp6.jpg" alt=""/></a>
                </div>
            </section>
        </main>
    </div>
    <script src='js/index_z.js'></script>
    <script src="js/zepto/zepto.js"></script>
    <script src="js/zepto/selector.js"></script>
    <script src="js/zepto/fx.js"></script>
    <script src="js/zepto/touch.js"></script>
    <script>
        $(function(){
            /*取到DOM对象*/
            var $banner = $('.jd_banner');
            /*取到图片盒子*/
            /*扩展性的选择器  必须引包  selector*/
            var $imgBox = $banner.find('ul:eq(0)');
            /*点盒子*/
            var $pointBox = $banner.find('ul:eq(1)');
            /*所有的点*/
            var $points = $pointBox.find('li');

            /*图片宽度*/
            var width = $banner.width();


            var index = 1; //图片索引

            var timer ; //接受定时器

            var animateFunc = function(callback){
                $imgBox.animate({'transform':'translateX(-'+index*width+'px)'},300,"ease",function(){
                    if(index >= 9){
                        index = 1;
                        $imgBox.css({'transform':'translateX(-'+index*width+'px)'});
                    }else if(index <= 0){
                        index = 8;
                        $imgBox.css({'transform':'translateX(-'+index*width+'px)'});
                    }
                    setPoint();
                    /*if(callback){
                        callback();
                    }*/
                    callback && callback();
                });
            }

            /*1  轮播*/
            timer = setInterval(function(){
                index ++ ;
                /*滑动方法*/
                animateFunc();
            },1000);

            /*2 设置点当前样式*/
            var setPoint = function(){
                $points.removeClass('now');
                var pointIndex = index;
                if(pointIndex >= 9){
                    pointIndex = 1;
                }else if(pointIndex <= 0){
                    pointIndex = 8;
                }

                $points.eq(pointIndex-1).addClass('now');

            }

            /*3 滑动*/
            /*在使用touch事件的时候你们必须引入  touch 包*/
            /*左滑动事件*/
            $imgBox.on('swipeLeft',function(){
                index ++ ;
                clearInterval(timer);
                animateFunc(function(){
                    timer = setInterval(function(){
                        index ++ ;
                        /*滑动方法*/
                        animateFunc();
                    },1000);
                });

            });
            /*右滑动事件*/
            $imgBox.on('swipeRight',function(){
                index -- ;
                clearInterval(timer);
                animateFunc(function(){
                    timer = setInterval(function(){
                        index ++ ;
                        /*滑动方法*/
                        animateFunc();
                    },1000);
                });

            });
            $.ajax({
                type:'get',
                data:{},
                url:'js/zepto/json.json',
                dataType:'json',
                success:function(data){
                    //alert(data.name);
                }
            });
         });
    </script>
</body>
</html>